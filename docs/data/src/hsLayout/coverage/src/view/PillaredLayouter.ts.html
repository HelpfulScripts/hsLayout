<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/view/PillaredLayouter.ts</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">hsLayout: All files</a> / <a href="index.html">src/view</a> PillaredLayouter.ts
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">98.04% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>100/102</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">92.86% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>39/42</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>20/20</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>85/85</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">20x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">22x</span>
<span class="cline-any cline-yes">22x</span>
<span class="cline-any cline-yes">22x</span>
<span class="cline-any cline-yes">20x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">22x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">18x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">16x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">22x</span>
<span class="cline-any cline-yes">66x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
Lays out components in pillars, i.e. either {@link hsLayout:view.PillaredLayout.Columns columns}
or {@link hsLayout:view.PillaredLayout.Rows rows}
Use either of
- `{rows: [attributes]}`
- `{columns: [attributes]}` 
&nbsp;
to invoke this layout.
&nbsp;
### Example
&lt;code&gt;
    {rows: [px(200), FILL]}   // --&gt; top row has height 200px, all other rows evenly share remaining space 
    {rows: ["200px", "fill"]} // --&gt; equivalent description
&lt;/code&gt;
&nbsp;
## Attributes
The following values **v** are valid entries in The Attributes array:
- **px(n)** or **"&lt;n&gt;px"** -- a fixed number of pixels 
- **pc(n)** or **"&lt;n&gt;%"**  -- a fixed percentage of available space
- **FILL** or **"fill"**   -- a special constant to indicate - may appear only once per array.
&nbsp;
The following options are supported for the Attributes array:
- **[ ]**: An empty array; all components will be evenly spaced across the available width. 
- **[v]**: All components have the specified width (in px or %) and will fill the available space from the left,
    leaving any remaining unused space on the right. 
- **[v1, v2]**: All components have the specified widths (in px or %) and will fill the available space from the left,
    leaving any remaining unused space on the right. If there are more components than widths, the right-most width
    will be used for the reminaing widgets.
- **[v, FILL]**: Sets the first (left) widget to a width of `v`.&lt;br&gt;
    if `v` is specified in %, the remaining n-1 components will have equal relative widths of `(100-v)/(n-1)%`&lt;br&gt;
    if `v` is specified in px, the remaining n-1 components will have their right borders at location `i*100/n%`, with i=1...n.
- **[FILL, v]**: Sets the last (right) widget to a width of `v`.&lt;br&gt;
    if `v` is specified in %, the remaining n-1 components will have equal relative widths of `(100-v)/(n-1)%`&lt;br&gt;
    if `v` is specified in px, the remaining n-1 components will have their left borders at location `i*100/n%`, with i=0...n-1.
- **[va, FILL, vb]**: Sets the first and last widget to a width of `va`/`vb`.&lt;br&gt;
    Both have to be specified either in px or in %.&lt;br&gt;
    if the unit is %, the remaining n-2 components will have equal relative widths of `(100-vb-va)/(n-2)%`&lt;br&gt;
    if the unit is px, the remaining n-2 components will have their left/right borders at location `i*100/n%`.
- **[v1, v2, FILL, v3, v4]**: multiple widths can be specified in uninterrupted sequence both from the left and the right. 
 */
&nbsp;
/** */
import { Layout }       from './Layout';
import { Layouter }     from './Layouter';
import { LayoutToken, 
         DefinedToken, 
         PixelToken }   from './Tokens';
import { Vnode}         from '../mithril';
&nbsp;
&nbsp;
&nbsp;
/**
 * interface definition for entries in `cParams`
 */
interface PillarParams {
    cssClass: string;
    fields: string[];
}
&nbsp;
/**
 * array of trigger keywords for column and row layout styles
 */
export const PillarLayouts = [
    'columns', 'rows'
];
&nbsp;
/**
 * contains style settings for the row and column layout
 */
const cParams = {
    columns: &lt;PillarParams&gt;{
        cssClass: '.hs-column-layout',
        fields: ['top', 'bottom', 'left', 'right', 'height', 'width']
    },
    rows: &lt;PillarParams&gt;{
        cssClass: '.hs-row-layout',
        fields: ['left', 'right', 'top', 'bottom', 'width', 'height']
    }
};
&nbsp;
type descriptor = {size:number, code:string, fields:{}};
&nbsp;
/**
 * Abstract base Layouter for creating PillarLayouter (rows, colums)
 */
abstract class PillarLayouter extends Layouter{
    firstFixed: number; // number of DefinedToken entries at the beginning
    lastFixed:  number; // number of DefinedToken entries at the end
    unit:(num:number)=&gt;descriptor[];
    fields: string[];
    cssClass:string;
&nbsp;
    /**
     * Constructs a Pillared layout (rows or columns).
     * Determines the `unit` (% or px) from the passed area descriptors
     * @param params Style params for either rows or columns layout
     * @param areaDesc Description of the requested layout 
     */
    constructor(params:PillarParams, public areaDesc:LayoutToken[]) { 
        super(areaDesc); 
        this.fields = params.fields;
        this.cssClass = params.cssClass;
&nbsp;
        let n = areaDesc.length-1;
        let first = 0;
        let last  = 0;        
        // if any of the dimensions are in px, use the pixel method; else use the percent method
        this.unit = areaDesc.some((area:LayoutToken) =&gt; (area instanceof PixelToken))? 
            this.unitPixel : this.unitPercent;   
        
        // determine first = number of consecutive fixed fields at start
        areaDesc.some((area:LayoutToken, i:number) =&gt; 
            ((areaDesc[i]   instanceof DefinedToken)? ++first&lt;0 : true));         
&nbsp;
        // determine last  = number of consecutive fixed fields at end
        areaDesc.some((area:LayoutToken, i:number) =&gt; 
            ((areaDesc[n-i] instanceof DefinedToken)? ++last&lt;0  : true));         
&nbsp;
        this.firstFixed = first;
        this.lastFixed  = Math.min(last, areaDesc.length-first);
    };
&nbsp;
    // num: number of areas to layout
    /**
     * Creates an iterable list of size descriptors, one for each area to be layed out.
     * Each descriptor 
     * @param num the number of areas to be layed out
     * @return Iterable list of `num` size descriptors, one for each area to be layed out
     */
    private getSizes(num:number):descriptor[] {
        const first = this.firstFixed;
        const last  = this.lastFixed;
        const desc  = this.areaDesc;
        const len = desc.length;
&nbsp;
        return [...Array(num).keys()].map((i:number) =&gt; {
            let size:number = null;
            let t = null;
            if (i &gt; num-1-last)  { size = desc[len - (num-i)].getSize(); t = 'end'; }       // end sequence
            else if (i &lt; first)  { size = desc[i].getSize(); t = 'start'; }                 // start sequence
            else <span class="missing-if-branch" title="if path not taken" >I</span>if (len&gt;0 &amp;&amp; len===first){ <span class="cstat-no" title="statement not covered" >size = desc[len-1].getSize(); <span class="cstat-no" title="statement not covered" ></span>t = 'start'; </span>}    // all items 
            return {size:size, code:t, fields:{}};
        });
    }
&nbsp;
    private unitPercent(num:number):descriptor[] {
        let f = this.fields;
        let max = 100.0;
        let styles:descriptor[] = this.getSizes(num);
&nbsp;
        styles.forEach(style =&gt; { if (style.size) { max = max - style.size; num--; } });
        let defDim = max / num;      // divvy up remaining space
&nbsp;
        function pass(styles:descriptor[], ix0:string, ix1:string, breakCond:(cond:string)=&gt;boolean) {
            let sumDim = 0;
            styles.some(style =&gt; { // stop when breakCond is met
                let size = style.size || defDim;
                if (breakCond(style.code)) { return true; }
                style.fields[ix0] = sumDim+'%';
                sumDim += size;
                style.fields[ix1] = (100-sumDim)+'%'; 
                style.fields[f[5]] = 'auto';
                return false;
            });
        }
&nbsp;
        pass(styles, f[2], f[3], (e:string) =&gt; e==='end');              // forward pass
        pass(styles.reverse(), f[3], f[2], (e:string) =&gt; e!=='end');    // backward pass
        return styles.reverse();    // reverse a second time for original sequence.
    };
&nbsp;
    private unitPixel(num:number):descriptor[] { // pattern: [px, px, FILL , px, px]
        let styles:descriptor[] = this.getSizes(num);
        let f = this.fields;
       
        let defDim = 100.0/num;          // used for unspecified widths
&nbsp;
        // work forwards through the heights
        let sumDim = 0;
        styles.some((style, i) =&gt; {
            if (style.code==='start') {   // so far, all heights explicitly set as px
                style.fields[f[2]] = sumDim +'px';
                sumDim += style.size + (this.spacing || 0) + (this.spacing || 0);
                style.fields[f[3]] = 'auto';
                style.fields[f[5]] = style.size +'px';
            } else if (style.code === null) {
                style.fields[f[2]] = (sumDim&gt;0)? (sumDim +'px') : (<span class="branch-1 cbranch-no" title="branch not covered" >i*defDim + '%')</span>;
                sumDim = -1;
                style.fields[f[3]] = (100-(i+1)*defDim) + '%';
                style.fields[f[5]] = 'auto';
            } else <span class="missing-if-branch" title="else path not taken" >E</span>if (style.code==='end') { return true; }
            return false;
        });
        
        // work backwards through the heights
        sumDim = 0;
        styles.slice().reverse().some((style, i) =&gt; {
            style.fields[f[3]] = sumDim + 'px';
            if (style.code === 'end') { 
                sumDim += style.size + (this.spacing || 0) + (this.spacing || 0);
                style.fields[f[2]] = 'auto';
                style.fields[f[5]] = style.size+'px';
            } else {
                if (sumDim&gt;0 &amp;&amp; style.code !== 'start') {
                    style.fields[f[5]] = 'auto';
                }
                return true; 
            } 
            return false;
        });  
        return styles;
    };
    
    /**
     * Calculates the style attributes required for each component in `Components`.
     * These attributes are saved in a `styles` field on the component itself. 
     * During rendering these `styles` attributes are copied to the `node.attrs.styles` field.
     * @param components 
     */
    protected getStyles(components:Array&lt;Vnode|Layout&gt;):string  { 
        let f = this.fields;
        let styles:descriptor[] = this.unit(components.length);
        components.map((c:Layout|Vnode, i:number) =&gt; {
            c.style = `${f[0]}:0%; ${f[1]}:0%; `;
            Object.keys(styles[i].fields).forEach((st:string) =&gt; { c.style += `${st}: ${styles[i].fields[st]};`; });
        });   
        return this.cssClass;
    };
};
&nbsp;
/**
 * Constructs a columns pillar layout style.&lt;br&gt;
 * Use `{columns: [attributes]}` to invoke this layout. See top of page for a description.
 * &lt;example&gt;
 * &lt;file name='script.js'&gt;
 * const styles = [ 
 *     [],                // equal spacing
 *     ["100px"],         // fixed spacing
 *     ["60px", "100px"], // fixed spacing, first one smaller
 *     ["100px", "fill"], // first one fixed, rest equal
 *     ["fill", "100px"], // last one fixed, rest equal
 *     ["20%"],           // relative spacing, all equal
 *     ["20%", "fill"],   // first relative, rest equal
 *     ["fill", "20%"]    // last relative, rest equal
 * ];
 * let c = [];
 * m.mount(root, { 
 *     view:() =&gt; m(hslayout.Layout, {
 *         rows:[],  // each row a style
 *         content: styles.map(i =&gt; m(hslayout.Layout, {
 *             css: '.myExample', 
 *             content: c.map(c=&gt;(''+i)), // the style descriptor
 *             columns: i                 // a style from styles
 *         }))
 *     })
 * });
 * function next() {
 *     if (c.length &gt;= 5) { c = []; }
 *     else { c.push(''); }
 *     setTimeout(next, 2000);
 *     m.redraw();
 * }
 * 
 * next();
 * &lt;/file&gt;
 * &lt;file name='style.css'&gt;
 * .hs-row-layout&gt;.myExample { 
 *     border-top:    1px solid white;
 *     border-bottom: 1px solid white;
 * }
 * .myExample&gt;.hs-layout {
 *     border:    1px solid white;
 *     background-color: #ccc;
 * }
 * .myExample { 
 *     color:       #a44; 
 *     font-size: 10px;
 *     font-weight: bold; 
 *     text-align:  center;
 * }
 * &lt;/file&gt;
 * &lt;/example&gt;
 */
class Columns extends PillarLayouter {
    constructor(public areaDesc:LayoutToken[]) { super(cParams[PillarLayouts[0]], areaDesc);  };
};
&nbsp;
/**
 * Constructs a row pillar layout style.&lt;br&gt;
 * Use `{row: [attributes]}` to invoke this layout. See top of page for a description.
 * &lt;example&gt;
 * &lt;file name='script.js'&gt;
 * const styles = [ 
 *     [],                // equal spacing
 *     ["100px"],         // fixed spacing
 *     ["60px", "100px"], // fixed spacing, first one smaller
 *     ["100px", "fill"], // first one fixed, rest equal
 *     ["fill", "100px"], // last one fixed, rest equal
 *     ["20%"],           // relative spacing, all equal
 *     ["20%", "fill"],   // first relative, rest equal
 *     ["fill", "20%"]    // last relative, rest equal
 * ];
 * let c = [];
 * function next() {
 *     if (c.length &gt;= 5) { c = []; }
 *     else { c.push(''); }
 *     setTimeout(next, 2000);
 *     m.redraw();
 * }
 * 
 * m.mount(root, { 
 *     view:() =&gt; m(hslayout.Layout, {
 *         columns:[],  // each column a style
 *         content: styles.map(i =&gt; m(hslayout.Layout, {
 *             css: '.myExample', 
 *             content: c.map(c=&gt;(''+i)),
 *             rows: i   // a style from styles
 *         }))
 *     })
 * });
 * next();
 * &lt;/file&gt;
 * &lt;file name='style.css'&gt;
 * .hs-column-layout&gt;.myExample {
 *     border-left:  1px solid white;
 *     border-right: 1px solid white;
 * }
 * .myExample&gt;.hs-layout {
 *     border:    1px solid white;
 *     background-color: #ccc;
 * }
 * .myExample { 
 *     color:       #a44; 
 *     font-weight: bold; 
 *     font-size: 10px;
 *     text-align:  center;
 * }
 * &lt;/file&gt;
 * &lt;/example&gt;
 */
class Rows extends PillarLayouter {
    constructor(public areaDesc:LayoutToken[]) { super(cParams[PillarLayouts[1]], areaDesc);  };
};
&nbsp;
Layouter.register(PillarLayouts[0], Columns);
Layouter.register(PillarLayouts[1],    Rows);
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->

</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
